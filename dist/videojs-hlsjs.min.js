/*! videojs-hlsjs - v1.4.8 - 2018-10-04*/

!function(a,b,c,d,e){function f(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function g(){return f()+f()+"-"+f()+"-"+f()+"-"+f()+"-"+f()+f()+f()}var h=(b.getComponent("Component"),b.getTech("Tech")),i=b.getTech("Html5"),j=b.extend(i,{createEl:function(){return this.el_=i.prototype.createEl.apply(this,arguments),this.setupHLS_(),this.options_.source&&this.src(this.options_.source.src),this.el_.tech=this,this.el_},onMediaAttached:function(){this.triggerReady()},onLevelLoaded:function(a,b){this.duration=b.details.live?function(){return 1/0}:i.prototype.duration},onManifestParsed:function(){this.player().options().autoplay&&this.player().play()},setSrc:function(a){this.hls_.url&&(this.hls_.destroy(),this.audioTracks_=new i.prototype.audioTracks,this.setupHLS_()),this.hls_.loadSource(a)},onError:function(b,d){if(d.fatal)switch(d.type){case c.ErrorTypes.NETWORK_ERROR:a.console.log("fatal network error encountered, try to recover"),this.trigger("error"),this.hls_.startLoad();break;case c.ErrorTypes.MEDIA_ERROR:a.console.log("fatal media error encountered, try to recover"),this.hls_.recoverMediaError();break;default:this.hls_.destroy(),a.console.error(d)}switch(d.details){case c.ErrorDetails.MANIFEST_LOAD_ERROR:case c.ErrorDetails.MANIFEST_LOAD_TIMEOUT:case c.ErrorDetails.MANIFEST_PARSING_ERROR:case c.ErrorDetails.LEVEL_LOAD_ERROR:case c.ErrorDetails.LEVEL_LOAD_TIMEOUT:case c.ErrorDetails.LEVEL_SWITCH_ERROR:case c.ErrorDetails.FRAG_LOAD_ERROR:case c.ErrorDetails.FRAG_LOOP_LOADING_ERROR:case c.ErrorDetails.FRAG_LOAD_TIMEOUT:case c.ErrorDetails.FRAG_PARSING_ERROR:case c.ErrorDetails.BUFFER_APPEND_ERROR:case c.ErrorDetails.BUFFER_APPENDING_ERROR:a.console.log(d.type),a.console.log(d.details)}},dispose:function(){return this.hls_.destroy(),i.prototype.dispose.apply(this)},onHlsManifestLoaded:function(a,b){for(var c=0;c<b.audioTracks.length;c++)b.audioTracks[c].label=b.audioTracks[c].name,b.audioTracks[c].hls_=this.hls_,Object.defineProperty(b.audioTracks[c],"enabled",{set:function(a){a&&(this.hls_.audioTrack=this.id)},get:function(){return this.hls_.audioTrack===this.id}}),this.audioTracks_.addTrack(b.audioTracks[c])},audioTracks:function(){return this.audioTracks_||(this.audioTracks_=i.prototype.audioTracks()),this.audioTracks_},audioTrackChange_:function(b){a.console.log(b),this.player().trigger({type:"audiotrackchange",data:b})},setupHLS_:function(){this.hls_=new c({xhrSetup:function(b,c){a.playback_session_id||(a.playback_session_id=g()),b.setRequestHeader("X-Playback-Session-Id",a.playback_session_id)}}),this.audioTracks_||(this.audioTracks_=i.prototype.audioTracks()),this.hls_.on(c.Events.MEDIA_ATTACHED,b.bind(this,this.onMediaAttached)),this.hls_.on(c.Events.MANIFEST_PARSED,b.bind(this,this.onManifestParsed)),this.hls_.on(c.Events.LEVEL_LOADED,b.bind(this,this.onLevelLoaded)),this.hls_.on(c.Events.MANIFEST_LOADED,b.bind(this,this.onHlsManifestLoaded)),this.hls_.on(c.Events.ERROR,b.bind(this,this.onError)),this.hls_.on(c.Events.AUDIO_TRACK_SWITCHED,b.bind(this,this.audioTrackChange_)),this.hls_.attachMedia(this.el_)}});j.isSupported=function(){return c&&c.isSupported()},j.canPlaySource=function(a,b){var d=/^((?!chrome|android|iphone|ipad).)*safari/i.test(navigator.userAgent);return"application/x-mpegURL"===a.type&&!d&&(c&&c.isSupported())},h.registerTech("Hlsjs",j),b.options.techOrder.unshift("Hlsjs")}(window,window.videojs,window.Hls,document);